version: '3'

services:
    development:
        image: jekyll/jekyll:latest
        command: jekyll serve  --watch --force_polling --incremental  --drafts --future --unpublished  --verbose --trace
        ports:
            - 8080:4000
        volumes:
            - .:/srv/jekyll
        environment:
            - JEKYLL_ENV=development
    production:
        image: jekyll/jekyll:latest
        command: jekyll serve
        ports:
            - 80:4000
        volumes:
            - .:/srv/jekyll
        environment:
            - JEKYLL_ENV=production